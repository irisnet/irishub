# IRIS Command Line Client

## Introduction

`iriscli` is a client for the IRISnet network. IRISnet users can use `iriscli` to send different transactions and query the blockchain data.

## iriscli Work Directory

The work directory for the `iriscli` is `$HOME/.iriscli`, which is mainly used to save configuration files and data. The IRISnet `key` data is saved in the work directory of `iriscli`. You can also specify  the `iriscli`  work directory by `--home`.


## iriscli --node

The rpc address of the tendermint node. Transactions and query requests are sent to the process listening to this port. The default is `tcp://localhost:26657`, and the rpc address can also be specified by `--node`.

## iriscli config command

The `iriscli config` command interactively configures some default parameters, such as chain-id, home, fee, and node.

## Fee and Gas

`iriscli` can send a transaction with the fee specified by `--fee` and gas(the default is 200000) specified by `--gas` . The gas divided by the fee is gas price, and the gas price can't be less than the minimum value set by the blockchain. The remaining fees after the completion of the entire transaction will be returned to the user. You can set `--gas="simulate"`, which can estimate the gas consumed by the transaction through the simulation run, and multiply the coefficient specified by `--gas-adjustment` to get the final gas as the transaction gas. Finally, the transaction will be broadcast.

## Dry-run Mode

`iriscli` turns off dry-run mode by default. If you want to open the dry-run mode, you can use `--dry-run`. It is similar to the simulation processing logic, and can calculate the gas that needs to be consumed, but then it will not broadcast to the full node, directly return and print the gas consumed this time.

Example: Send a command using dry-run mode

```
iriscli gov submit-proposal --title="ABC" --description="test" --type=Text --deposit=1iris --from=x --chain-id=gov-test --fee=0.05iris --gas=200000 --dry-run
```

Print：

```
estimated gas = 8370
```

## Asynchronous Mode

The transaction sent by iriscli defaults to synchronous mode. Synchronous mode refers to sending a transaction and then blocking it until the reply is received or the entire command is timed out. If you want to open asynchronous mode, you can use `--async`. After sending the transaction, the transaction hash will be returned immediately.


## Generate Only

`generate-only` is turned off by default, but `--generate-only` can be enabled to send the transaction, and then the unsigned transaction generated by the command line will be printed.

Example: Enable generate-only to generate unsigned transactions

```
iriscli gov submit-proposal --title="ABC" --description="test" --type=Text --deposit=1iris --from=x --chain-id=gov-test --fee=0.05iris --gas=200000 --generate-only
```

Print：

```json
{
  "type": "auth/StdTx",
  "value": {
    "msg": [
      {
        "type": "cosmos-sdk/MsgSubmitProposal",
        "value": {
          "title": "ABC",
          "description": "test",
          "proposal_type": "Text",
          "proposer": "faa1k47r0nxd6ec8n6sc6tzvk2053u4eff0vx99755",
          "initial_deposit": [
            {
              "denom": "iris-atto",
              "amount": "1000000000000000000"
            }
          ],
          "Param": {
            "key": "",
            "value": "",
            "op": ""
          }
        }
      }
    ],
    "fee": {
      "amount": [
        {
          "denom": "iris-atto",
          "amount": "50000000000000000"
        }
      ],
      "gas": "200000"
    },
    "signatures": null,
    "memo": ""
  }
}

```

## Trust Node 

The trust-node is true by default. When the trust-node is true, the `iriscli` only queries the data and does not perform a Merkle-proof verification on the data. You can also use the `--trust-node=false` to perform Merkle verification on the data obtained by the query.

